!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);class r{constructor(e){this.key=e,this.deps=new Set}depend(){r.target&&this.deps.add(r.target)}notify(){this.deps.forEach(e=>e.update())}}r.target=null;const o=[];function u(e){return null!==e&&"object"==typeof e}function i(e){return u(e)&&Object.keys(e).forEach(t=>{!function(e,t){let n=e[t];const o=new r;Object.defineProperty(e,t,{get:()=>(o.depend(),n),set(e){n=e,o.notify()}}),u(n)&&i(n)}(e,t)}),e}class a{constructor(e,t={}){const{computed:n,watch:o,callback:u}=t;this.getter=e,this.computed=n,this.watch=o,this.callback=u,this.value=void 0,n?this.dep=new r:this.get()}get(){var e;return e=this,r.target&&o.push(r.target),r.target=e,this.value=this.getter(),r.target=o.pop(),this.value}depend(){this.dep.depend(this)}update(){if(this.computed)this.get(),this.dep.notify();else if(this.watch){const e=this.value;this.get(),this.callback(e,this.value)}else this.get()}}const c=i({msg:"Hello World",number:1}),s=function(e){let t={};const n=new a(e,{computed:!0});return Object.defineProperty(t,"value",{get:()=>(n.depend(),n.get())}),t}(()=>c.number+1);new a(()=>{document.getElementById("app").innerHTML=`\n    <p>请在控制台输入data，分别改变data.msg尝试效果</p>\n    <p>data.msg被watch了，可以打印出新旧值的变化</p>\n    msg is ${c.msg} <br>\n  `}),new a(()=>{document.getElementById("app2").innerHTML=`\n  <p>请在控制台改变data.number尝试computed效果</p>\n  <p>data.number现在是${c.number}</p>\n    computed: 1 + number 是 ${s.value}\n  `}),new a(()=>c.msg,{watch:!0,callback:(e,t)=>{console.log("old: ",e),console.log("newVal: ",t)}}),window.data=c}]);