!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";n.r(e);class r{constructor(){this.deps=new Set}depend(){r.target&&this.deps.add(r.target)}notify(){this.deps.forEach(t=>t.update())}}r.target=null;const o=[];function c(t){return null!==t&&"object"==typeof t}function u(t){return c(t)&&Object.keys(t).forEach(e=>{!function(t,e){let n=t[e];const o=new r;Object.defineProperty(t,e,{get:()=>(o.depend(),n),set(t){n=t,o.notify()}}),c(n)&&u(n)}(t,e)}),t}class i{constructor(t,e={}){const{computed:n,watch:o,callback:c}=e;this.getter=t,this.computed=n,this.watch=o,this.callback=c,this.value=void 0,n?this.dep=new r:this.get()}get(){var t;return t=this,r.target&&o.push(r.target),r.target=t,this.value=this.getter(),r.target=o.pop(),this.value}depend(){this.dep.depend(this)}update(){if(this.computed)this.get(),this.dep.notify();else if(this.watch){const t=this.value;this.get(),this.callback(t,this.value)}else this.get()}}function a(t){let e={};const n=new i(t,{computed:!0});return Object.defineProperty(e,"value",{get:()=>(n.depend(),n.get())}),e}function s(t,e){new i(t,{watch:!0,callback:e})}n.d(e,"reactive",(function(){return u})),n.d(e,"Watcher",(function(){return i})),n.d(e,"computed",(function(){return a})),n.d(e,"watch",(function(){return s}))},function(t,e,n){n(0),t.exports=n(2)},function(t,e,n){"use strict";n.r(e);var r=n(0);const o=Object(r.reactive)({msg:"Hello World",number:1}),c=Object(r.computed)(()=>o.number+1);new r.Watcher(()=>{document.getElementById("app").innerHTML=`\n    <p>请在控制台输入data，分别改变data.msg、data.number尝试效果</p>\n    <p>data.msg被watch了，可以打印出新旧值的变化</p>\n    msg is ${o.msg} <br>\n    number is ${o.number} <br>\n    computed: 1 + number 是 ${c.value}\n  `}),Object(r.watch)(()=>o.msg,(t,e)=>{console.log("old: ",t),console.log("newVal: ",e)}),window.data=o}]);